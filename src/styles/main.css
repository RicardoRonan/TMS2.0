/* MetaStack Main Styles */

/* Import design tokens and base styles */
@import './tokens.css';
@import './base.css';

/* Import Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Components */
@layer components {
  /* HIG Button Styles */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-150 ease-in-out;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: var(--touch-target-min);
    border: 1px solid var(--color-border-primary);
  }

  .btn-primary {
    @apply bg-primary-500 text-white active:bg-primary-700;
    @apply shadow-md hover:shadow-lg;
  }

  .btn-primary:hover {
    background-color: var(--color-bg-primary);
    color: var(--color-primary-500);
    border: 1px solid var(--color-bg-primary) !important;
  }

  .btn-secondary {
    background-color: var(--color-bg-secondary);
    color: var(--color-text-primary);
  }

  .btn-secondary:hover {
    background-color: var(--color-primary-500);
    color: var(--color-text-inverse);
    border: 1px solid var(--color-primary-600) !important;
  }

  .btn-secondary:active {
    @apply opacity-80;
  }

  .btn-tertiary {
    @apply text-primary-500 hover:text-primary-600 hover:bg-primary-50;
  }

  .btn-danger {
    @apply bg-danger text-white hover:bg-red-600 active:bg-red-700;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
    min-height: 32px;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
    min-height: 48px;
  }

  /* HIG Card Styles */
  .card {
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border-primary);
    @apply rounded-lg shadow-hig hover:shadow-hig-lg transition-shadow duration-300;
  }

  .card-elevated {
    background-color: var(--color-bg-elevated);
    @apply shadow-hig-lg;
  }

  .card-header {
    @apply px-6 py-4;
    border-bottom: 1px solid var(--color-border-primary);
  }

  .card-body {
    @apply px-6 py-4;
  }

  .card-footer {
    @apply px-6 py-4;
    border-top: 1px solid var(--color-border-primary);
  }

  /* HIG Input Styles */
  .input {
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border-primary);
    color: var(--color-text-primary);
    @apply w-full px-3 py-2 rounded-md;
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
    @apply transition-colors duration-150;
  }

  .input::placeholder {
    color: var(--color-text-tertiary);
  }

  /* Autofill styles - match input styles */
  input:-webkit-autofill,
  textarea:-webkit-autofill,
  select:-webkit-autofill {
    background-color: var(--color-bg-secondary) !important;
    border: 1px solid var(--color-border-primary) !important;
    color: var(--color-text-primary) !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    -webkit-box-shadow: 0 0 0px 1000px var(--color-bg-secondary) inset !important;
    box-shadow: 0 0 0px 1000px var(--color-bg-secondary) inset !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  input:-webkit-autofill:focus,
  textarea:-webkit-autofill:focus,
  select:-webkit-autofill:focus {
    outline: none;
    border-color: transparent !important;
    -webkit-box-shadow: 0 0 0px 1000px var(--color-bg-secondary) inset, 0 0 0 2px var(--color-primary-500) !important;
    box-shadow: 0 0 0px 1000px var(--color-bg-secondary) inset, 0 0 0 2px var(--color-primary-500) !important;
  }

  .input-error {
    border-color: var(--color-danger);
  }

  .input-error:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3);
  }

  .input-success {
    border-color: var(--color-success);
  }

  .input-success:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(74, 222, 128, 0.3);
  }

  /* HIG Modal Styles */
  .modal-overlay {
    background-color: var(--color-bg-overlay);
    @apply fixed inset-0 flex items-center justify-center p-4;
    @apply z-modal-backdrop;
  }

  .modal {
    background-color: var(--color-bg-secondary);
    @apply rounded-lg shadow-hig-xl max-w-lg w-full max-h-screen overflow-y-auto;
    @apply z-modal;
  }

  .modal-lg {
    @apply max-w-2xl;
  }

  .modal-xl {
    @apply max-w-4xl;
  }

  /* HIG List Styles */
  .list {
    @apply space-y-1;
  }

  .list-item {
    @apply flex items-center px-4 py-3 rounded-md transition-colors;
  }

  .list-item:hover {
    background-color: var(--color-bg-tertiary);
  }

  .list-item-active {
    background-color: var(--color-primary-50);
    color: var(--color-primary-500);
  }

  /* HIG Navigation Styles */
  .nav-link {
    color: var(--color-text-secondary);
    @apply flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors;
  }

  .nav-link:hover {
    color: var(--color-text-primary);
    background-color: var(--color-bg-tertiary);
  }

  .nav-link-active {
    color: var(--color-primary-500);
    background-color: var(--color-primary-50);
  }

  /* HIG Badge Styles */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-800;
  }

  .badge-secondary {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
  }

  .badge-success {
    background-color: var(--color-success);
    color: var(--color-text-inverse);
  }

  .badge-warning {
    background-color: var(--color-warning);
    color: var(--color-text-inverse);
  }

  .badge-danger {
    background-color: var(--color-danger);
    color: var(--color-text-inverse);
  }

  /* HIG Alert Styles */
  .alert {
    @apply p-4 rounded-lg border;
  }

  .alert-success {
    background-color: var(--color-success-bg);
    border-color: var(--color-success);
    color: var(--color-success);
  }

  .alert-warning {
    background-color: var(--color-warning-bg);
    border-color: var(--color-warning);
    color: var(--color-warning);
  }

  .alert-danger {
    background-color: var(--color-danger-bg);
    border-color: var(--color-danger);
    color: var(--color-danger);
  }

  .alert-info {
    background-color: var(--color-info-bg);
    border-color: var(--color-info);
    color: var(--color-info);
  }

  /* HIG Skeleton Styles */
  .skeleton {
    background-color: var(--color-bg-tertiary);
    @apply animate-pulse rounded;
  }

  .skeleton-text {
    @apply h-4 w-full;
  }

  .skeleton-title {
    @apply h-6 w-3/4;
  }

  .skeleton-avatar {
    @apply h-10 w-10 rounded-full;
  }

  .skeleton-badge {
    @apply h-5;
  }

  .skeleton-button {
    @apply h-4;
  }

  .skeleton-logo-container {
    @apply border border-border-primary;
  }

  .skeleton-blog-card {
    @apply w-full;
  }

  .skeleton-tool-card {
    @apply w-full;
  }

  .skeleton-tutorial-category {
    @apply w-full;
  }

  /* HIG Loading Spinner */
  .spinner {
    display: inline-block;
    border-style: solid;
    border-color: var(--color-border-primary);
    border-top-color: var(--color-primary-500);
    border-radius: 50%;
    border-width: 2px;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
  }

  .spinner-sm {
    width: 1rem;
    height: 1rem;
    min-width: 1rem;
    min-height: 1rem;
  }

  .spinner-md {
    width: 1.5rem;
    height: 1.5rem;
    min-width: 1.5rem;
    min-height: 1.5rem;
  }

  .spinner-lg {
    width: 2rem;
    height: 2rem;
    min-width: 2rem;
    min-height: 2rem;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* HIG Toast Styles */
  .toast {
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border-primary);
    @apply fixed top-4 right-4 z-toast max-w-sm w-full rounded-lg shadow-hig;
    @apply transform transition-all duration-300 ease-in-out;
  }

  .toast-enter {
    @apply translate-x-full opacity-0;
  }

  .toast-enter-active {
    @apply translate-x-0 opacity-100;
  }

  .toast-exit {
    @apply translate-x-0 opacity-100;
  }

  .toast-exit-active {
    @apply translate-x-full opacity-0;
  }
}

/* Custom Utilities */
@layer utilities {
  /* Text Sizes */
  .text-caption { font-size: var(--font-size-caption); }
  .text-footnote { font-size: var(--font-size-footnote); }
  .text-subheadline { font-size: var(--font-size-subheadline); }
  .text-callout { font-size: var(--font-size-callout); }
  .text-body { font-size: var(--font-size-body); }
  .text-headline { font-size: var(--font-size-headline); }
  .text-title3 { font-size: var(--font-size-title3); }
  .text-title2 { font-size: var(--font-size-title2); }
  .text-title1 { font-size: var(--font-size-title1); }
  .text-large-title { font-size: var(--font-size-large-title); }

  /* Line Heights */
  .leading-tight { line-height: var(--line-height-tight); }
  .leading-normal { line-height: var(--line-height-normal); }
  .leading-relaxed { line-height: var(--line-height-relaxed); }

  /* Spacing */
  .space-y-1 > * + * { margin-top: var(--space-1); }
  .space-y-2 > * + * { margin-top: var(--space-2); }
  .space-y-3 > * + * { margin-top: var(--space-3); }
  .space-y-4 > * + * { margin-top: var(--space-4); }
  .space-y-6 > * + * { margin-top: var(--space-6); }
  .space-y-8 > * + * { margin-top: var(--space-8); }

  .space-x-1 > * + * { margin-left: var(--space-1); }
  .space-x-2 > * + * { margin-left: var(--space-2); }
  .space-x-3 > * + * { margin-left: var(--space-3); }
  .space-x-4 > * + * { margin-left: var(--space-4); }
  .space-x-6 > * + * { margin-left: var(--space-6); }
  .space-x-8 > * + * { margin-left: var(--space-8); }

  /* Shadows */
  .shadow-hig { box-shadow: var(--shadow-hig); }
  .shadow-hig-lg { box-shadow: var(--shadow-hig-lg); }
  .shadow-hig-xl { box-shadow: var(--shadow-hig-xl); }

  /* Border Radius */
  .rounded-hig { border-radius: var(--radius-lg); }
  .rounded-hig-lg { border-radius: var(--radius-xl); }

  /* Transitions */
  .transition-fast { transition: all var(--transition-fast); }
  .transition-normal { transition: all var(--transition-normal); }
  .transition-slow { transition: all var(--transition-slow); }

  /* Focus Ring */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  /* Touch Targets */
  .touch-target {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
  }
}

/* Responsive Design */
@media (max-width: 767px) {
  .container {
    padding: 0 var(--space-4);
  }
  
  .modal {
    margin: var(--space-4);
    max-width: calc(100vw - var(--space-8));
  }
}

/* Print Styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    background: white !important;
    color: black !important;
    scroll-behavior: smooth !important;
  }
  
  .card {
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }
}

